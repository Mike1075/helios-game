# 信念系统模板 - Helios项目 "本我之境"
# 基于三层意识结构的NPC信念系统
# 版本: v1.0 | 创建日期: 2025-08-14

# ==========================================
# 三层意识结构定义
# ==========================================

consciousness_layers:
  core_drive:
    description: "本我 - 最底层的存在倾向，几乎不可变"
    change_frequency: "极低 (只有创世级事件才能改变)"
    examples:
      - "求知" # 对知识和真理的渴望
      - "守护" # 保护他人和价值的冲动  
      - "创造" # 创新和建设的驱动
      - "权力" # 影响和控制的欲望
      - "和谐" # 平衡和协调的追求
      - "自由" # 独立和解放的渴望
      - "连接" # 建立关系和归属的需求
    
  long_term_beliefs:
    description: "自我 - 基于核心驱动和经历形成的长期信念"
    change_frequency: "中等 (重大人生事件SLE触发)"
    change_triggers:
      - "significant_life_events" # 重大人生事件
      - "belief_resonance" # 信念共振达到阈值
      - "value_conflict" # 价值观冲突
    examples:
      - "AI协作能让人类更强大"
      - "传统价值观有其存在意义" 
      - "技术发展必须考虑伦理后果"
      - "信息应该自由流动"
      
  short_term_goals:
    description: "超我 - 为实现长期信念制定的具体目标"
    change_frequency: "极高 (实时响应环境变化)"
    change_triggers:
      - "new_information" # 新信息获取
      - "social_interaction" # 社交互动
      - "environmental_change" # 环境变化
      - "goal_completion" # 目标完成
    examples:
      - "完成城市交通优化项目"
      - "说服更多同事接受AI辅助工作"
      - "帮助迷茫的客人找到方向"

# ==========================================
# 信念更新机制
# ==========================================

belief_update_system:
  significant_life_events:
    definition: "能够挑战或强化NPC长期信念的重大事件"
    threshold_score: 75 # 0-100分，超过此分数触发SLE
    categories:
      betrayal: "背叛事件"
      achievement: "重大成就"
      loss: "重大损失"
      revelation: "重要发现"
      transformation: "身份转变"
    
  belief_resonance:
    definition: "当接收的叙事与NPC信念产生强烈共鸣时的反应"
    resonance_calculation:
      positive_resonance: "叙事支持现有信念"
      negative_resonance: "叙事挑战现有信念"
      neutral_resonance: "叙事与信念无关"
    threshold:
      minor_adjustment: 30 # 微调短期目标
      major_adjustment: 60 # 调整长期信念权重
      belief_shift: 90 # 改变长期信念内容

  memory_integration:
    importance_levels:
      S级: "涉及核心价值观的重大选择"
      A级: "影响多个NPC关系的行为"  
      B级: "单个NPC关系的重要互动"
      C级: "日常对话和小互动"
    decay_rates:
      S级: 0.01 # 几乎永不遗忘
      A级: 0.05 # 很慢遗忘
      B级: 0.1  # 中等遗忘
      C级: 0.2  # 较快遗忘

# ==========================================
# 认知滤镜系统
# ==========================================

perception_filter:
  definition: "每个NPC独有的信息解读机制"
  components:
    bias_weights:
      confirmation_bias: 0.7 # 确认偏误 - 倾向于接受支持现有信念的信息
      authority_bias: 0.3 # 权威偏误 - 对权威来源的信任程度
      social_proof: 0.5 # 社会证明 - 受他人观点影响的程度
      recency_bias: 0.4 # 近期偏误 - 对最近信息的重视程度
      
    emotional_filters:
      trust_level: "对信息来源的信任度 (0-1)"
      emotional_state: "当前情绪状态影响解读"
      personal_relevance: "信息与个人相关性 (0-1)"
      
    interpretation_styles:
      literal: "字面意思解读"
      metaphorical: "隐喻性解读"
      skeptical: "怀疑性解读"
      optimistic: "乐观性解读"
      pessimistic: "悲观性解读"

# ==========================================
# 关系动态系统
# ==========================================

relationship_dynamics:
  weight_range: [-100, 100] # -100完全敌对, +100完全信任
  
  change_triggers:
    minor_change: 20 # 触发对话变化
    major_change: 50 # 触发剧情分支
    relationship_shift: 80 # 触发关系质变
    
  influence_factors:
    direct_interaction: 1.0 # 直接互动的影响权重
    indirect_reputation: 0.3 # 间接声誉的影响权重
    shared_values: 0.8 # 共同价值观的影响权重
    conflicting_interests: -0.6 # 利益冲突的负面影响
    
  group_effects:
    alliance_bonus: 0.2 # 盟友关系的额外加成
    enemy_penalty: -0.3 # 敌对关系的额外惩罚
    neutral_decay: 0.05 # 中性关系的自然衰减

# ==========================================
# 对话生成参数
# ==========================================

dialogue_generation:
  style_parameters:
    formality: [0, 1] # 0=非常随意, 1=非常正式
    technical_jargon: [0, 1] # 技术术语使用程度
    emotional_expression: [0, 1] # 情感表达强度
    humor: [0, 1] # 幽默感程度
    philosophical_depth: [0, 1] # 哲学深度
    
  context_awareness:
    location_influence: 0.3 # 当前位置对对话的影响
    time_influence: 0.2 # 时间对对话的影响  
    mood_influence: 0.5 # 当前情绪对对话的影响
    relationship_influence: 0.8 # 与对话者关系对对话的影响
    
  memory_integration:
    recent_interactions: 0.7 # 最近互动的影响权重
    important_memories: 0.9 # 重要记忆的影响权重
    personality_consistency: 0.8 # 性格一致性要求

# ==========================================
# 世界事件响应系统  
# ==========================================

world_event_response:
  event_categories:
    social: "社会事件 (抗议、庆典、危机)"
    technological: "技术事件 (新发明、故障、突破)"
    political: "政治事件 (法律变更、选举、政策)"
    economic: "经济事件 (市场变化、就业、贸易)"
    environmental: "环境事件 (天气、灾害、变化)"
    
  response_factors:
    personal_relevance: "事件与个人经历的相关性"
    value_alignment: "事件与个人价值观的一致性"
    social_pressure: "社会环境对响应的压力"
    information_source: "事件信息的来源可信度"
    
  response_types:
    ignore: "忽略事件"
    observe: "观察事件发展"
    discuss: "与他人讨论事件"
    act: "采取具体行动"
    advocate: "公开表达立场"

# ==========================================
# 系统配置参数
# ==========================================

system_configuration:
  update_frequency:
    real_time: "实时更新 (对话、短期目标)"
    hourly: "小时更新 (情绪状态、关系微调)"
    daily: "日更新 (长期信念权重、记忆整理)"
    weekly: "周更新 (深度性格分析、关系网络)"
    
  performance_optimization:
    cache_frequently_accessed: true # 缓存常用数据
    lazy_load_detailed_memories: true # 延迟加载详细记忆
    compress_old_interactions: true # 压缩旧互动记录
    
  debugging_tools:
    belief_state_logging: true # 记录信念状态变化
    decision_reasoning_log: true # 记录决策推理过程
    relationship_change_tracking: true # 跟踪关系变化
