# AI聊天系统测试指南

## 🎯 功能概述

我们已经实现了一个完整的AI聊天系统，支持：
- 🔄 实时流式输出
- 🎨 现代化UI界面
- 🤖 多模型支持 (GPT-4o-mini, GPT-4o, Claude等)
- 🛡️ 零信任本地开发模式
- 📱 响应式设计

## 🚀 本地测试方法

### 1. 启动前端 (Next.js)
```bash
cd helios-game
npm run dev:web
```
访问: `http://localhost:3000`

### 2. 启动后端 (FastAPI) 
```bash
cd helios-game
# 安装Python依赖 (首次运行)
pip install -r packages/api/requirements.txt

# 启动API服务
npm run dev:api
```
访问: `http://localhost:8000`

### 3. 测试流程
1. **主页访问**: 打开 `http://localhost:3000` 查看Helios主页
2. **进入聊天**: 点击"🚀 开始AI聊天测试"按钮
3. **选择模型**: 在聊天页面选择AI模型 (默认GPT-4o-mini)
4. **发送消息**: 输入消息并发送
5. **观察流式输出**: 应该看到AI逐字符回复的效果

## 💻 本地开发模式特性

由于采用零信任开发工作流，本地环境：
- ✅ **UI完全正常**: 界面、交互、流式动画
- ✅ **模拟响应**: 智能的mock响应展示项目特性  
- ✅ **流式输出**: 完整的打字机效果演示
- ❌ **真实AI**: 需要在Vercel预览环境测试

## 🔍 预期测试结果

### 本地环境 (Mock模式)
```
用户: "你好"
AI: 你好！我是Helios AI助手。

当前状态：本地开发模式（模拟响应）

你刚才发送的消息数量：1
最后一条消息："你好"

这是一个流式输出的演示。在生产环境中，我将连接到真实的AI模型。

✨ Helios项目特性：
- 🔮 信念系统驱动的对话
- 🤖 NPC代理核心  
- 🪞 回响之室自省
- 🎭 导演引擎

现在你看到的是逐字符的流式输出效果...
```

### 云端环境 (真实AI)
- 连接到真实的GPT-4o-mini或其他模型
- 根据用户选择的模型提供智能回复
- 保持相同的流式输出效果

## 🛠️ 调试功能

开发模式下页面底部有调试信息面板：
- 消息数量统计
- 加载状态显示
- 当前输入内容
- 选择的AI模型

## 🔄 云端测试

完整功能测试请通过GitHub PR的Vercel预览环境：
1. 访问PR页面获取预览链接
2. 在预览环境中测试真实AI对话
3. 验证所有模型选项工作正常

## ⚠️ 常见问题

1. **前端启动失败**: 确保在项目根目录运行 `npm install`
2. **后端连接失败**: 检查FastAPI是否在8000端口运行  
3. **样式不显示**: 确保Tailwind CSS正确配置
4. **流式输出不工作**: 检查浏览器控制台错误信息

## 📋 下一步开发计划

- [ ] 集成NPC信念系统
- [ ] 添加角色选择功能
- [ ] 实现回响之室机制
- [ ] 连接Supabase数据库
- [ ] 添加对话历史功能